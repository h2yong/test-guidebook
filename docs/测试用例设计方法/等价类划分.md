---
title: 等价类划分法
description: 等价类划分法是一种典型的，并且是最基础的黑盒测试用例设计方法
keywords: [等价类, 等价类划分, 测试用例, 测试用例设计, 黑盒测试, 基础测试用例设计, 基础测试用例设计, 有效等价类, 无效等价类]
---
# 等价类划分
## 定义（What）
等价类划分法是一种典型的，并且是最基础的黑盒测试用例设计方法。**采用等价类划分法时，完全不用考虑程序内部结构，设计测试用例的唯一依据是软件需求规格说明书。**

所谓等价类，是输入条件的一个子集合，该输入集合中的数据对于揭示程序中的错误是等价的。从每一个子集中选取少数具有代表性的数据，从而生成测试用例。

等价类又分为**有效等价类**和**无效等价类**。有效等价类代表对程序有效的输入（利用有效等价类可检验程序是否实现了规格说明中所规定的功能和性能），而无效等价类则是其他任何可能的输入（即不正确的输入值）。有效等价类和无效等价类都是使用等价类划分法设计用例时所必须的，因为**被测程序若是正确的，就应该既能接受有效的输入，也能接受无效输入的考验。**

## 用例设计步骤
1. 划分等价类
2. 为每一个有效等价类和无效等价类规定一个唯一的编号
3. 设计一个测试用例，使其尽可能多地覆盖尚未覆盖的有效等价类， 重复这一步直到所有有效等价类均被测试用例所覆盖
4. 设计一个测试用例，使其只覆盖一个无效等价类，重复这一步，直到所有无效等价类均被覆盖

**使用下面的表格有利于确定测试用例**

| 条件   | 有效等价类       | 编号   | 无效等价类 | 编号   |
| ------ | ---------------- | ------ | ---------- | ------ |
| &nbsp; | &nbsp;    &nbsp; | &nbsp; | &nbsp;     | &nbsp; |

## 实战演练
### 功能描述
NextDate（年，月，日）是三个变量的函数。函数返回输入日期的下一个日期。变量年份，月份，日期都是整数值，且满足下面的条件： 1900<=年<=2060 ,1<=月<=12, 1<=日<=31

### 参考答案
**等价类划分**

| 条件 | 有效等价类   | 编号 | 无效等价类 | 编号 |
| ---- | ------------ | ---- | ---------- | ---- |
| 年   | 闰年         | 1    | 年<=1900   | 11   |
|      | 平年         | 2    | 年>=2060   | 12   |
| 月   | 1,3,5,7,8,10 | 3    | 月<1       | 13   |
|      | 4,6,9,11     | 4    | 月>12      | 14   |
|      | 2月          | 5    |            |      |
|      | 12月         | 6    |            |      |
| 日   | [1,28]       | 7    | 日<1       | 15   |
|      | 29           | 8    | 日>31      | 16   |
|      | 30           | 9    |            |      |
|      | 31           | 10   |            |      |

**测试用例**
1. 覆盖等价类2,3,10：测试输入=(2001,7,31)，预期结果=(2001,8,1)
2. 覆盖等价类2,4,9：测试输入=(2006,4,30)，预期结果=(2006,5,1)
3. 覆盖等价类1,5,8：测试输入=(2000,2,29)，预期结果=(2000,3,1)
4. 覆盖等价类2,6,7：测试输入=(2001,12,15)，预期结果=(2001,12,16)
5. 覆盖等价类11,3,7：测试输入=(1830,3,19)， 预期结果=“输入错误!”
6. 覆盖等价类12,3,7：测试输入=(3000,3,19)， 预期结果=“输入错误!”
7. 覆盖等价类1,13,7：测试输入=(2004,-2,10)，预期结果=“输入错误!”
8. 覆盖等价类1,14,7：测试输入=(2004,15,10)，预期结果=输入错误!”
9. 覆盖等价类1,3,15：测试输入=(2004,8,-2)， 预期结果=“输入错误!”
10. 覆盖等价类1,3,16：测试输入=(2004,8,38)，预期结果=“输入错误!”

### 说明
测试用例涵盖了大部分需测试的要点，但仍有些遗漏，例如年底、平年的二月等。

如何再次提高测试用例质量呢？  
1. 在实际测试时，可以考虑增加一些测试用例来补充，或者通过其他测试用例设计方法来补充等价类划分无法覆盖到的测试点（实际中会使用错误猜测法）。
2. 根据功能规格说明，选取恰当的测试用例设计方法。Nextdate各个输入变量之间其实并不是完全独立的，在设计测试用例时并没有考虑到这点，可以使用：
   * 各个变量之间进行全组合
   * 判定表
3. 综合运用多种测试用例设计方法，以求得测试质量与成本之间的平衡